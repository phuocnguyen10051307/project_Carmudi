<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/toastify-js@1.11.0/dist/toastify.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <body style="display: flex">
    <div
      class="pagination"
      style="width: 200px; height: 200px; background-color: red"
    ></div>
    <div>
      <label for="search"></label
      ><input
        type="text"
        id="search"
        placeholder="Search"
        oninput="searchUser()"
      />
      <div id="show"></div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"
      defer
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/toastify-js@1.11.0"
    ></script>
    <script>
      document.addEventListener("DOMContentLoaded", getUser);

      let cars = [];

      async function getUser() {
        try {
          let data = await axios.get("http://localhost:5000/car");
          cars = data.data;
          renderCars(cars);
        } catch (e) {
          console.log(e);
        }
      }

      function renderCars(array) {
        let cardsContainer = document.getElementById("show");
        cardsContainer.innerHTML = ""; // Clear previous cards
        array.forEach((car) => {
          let card = document.createElement("div");
          card.classList.add("card");
          card.innerHTML = `
          <img src="${car.ImageUrl}" class="card-img-top">
          <div class="card-body">
            <h5 class="card-title">${car.Title}</h5>
            <p class="card-text"><i class="bi bi-calendar-event-fill"></i> ${car.Year}</p>
            <p class="card-text"><i class="bi bi-speedometer"></i> ${car.Kilometer} km</p>
            <p class="card-text"><i class="bi bi-fuel-pump"></i> ${car.Fuel}</p>
            <p class="card-text"><i class="bi bi-bezier2"></i> ${car.Transmission}</p>
          </div>
          <div class="card-footer">
            <p class="card-text" style="font-size:20px; color:red;">${car.Price}</p>
            <p class="card-text" style="font-size:12px;"><i class="bi bi-geo-alt"></i> ${car.Address.Province} - ${car.Address.Districts}</p>
          </div>`;
          cardsContainer.appendChild(card);
        });
      }

      function searchUser() {
        let valueSearchInput = document.getElementById("search").value;
        let filteredCars = cars.filter((car) => {
          return car.Fuel.toUpperCase().includes(
            valueSearchInput.toUpperCase()
          );
        });
        renderCars(filteredCars);
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
</head>
<body onload="getUser()"> 
  <label for="search"></label><input type="text" id="search" placeholder="Search" oninput="searchUser()"> 
  <table id="table"></table>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script>
    let users = []; 

    async function getUser() {
      try {
        let data = await axios.get('https://jsonplaceholder.typicode.com/users');
        users = data.data;
        renderUser(users);
      } catch (e) {
        console.log(e);
      }
    }

    function renderUser(array) {
      let element = `<tr>
        <th>ID</th>
        <th>Name</th>
      </tr>`;
      array.forEach(value => { 
        element += `<tr>
          <td>${value.id}</td>
          <td>${value.name}</td>
        </tr>`;
      });
      document.getElementById('table').innerHTML = element;
    } 

    function searchUser() {
      let valueSearchInput = document.getElementById('search').value;
      let userSearch = users.filter(value => {
        return value.name.toUpperCase().includes(valueSearchInput.toUpperCase());
      });
      renderUser(userSearch); 
    }
  </script>
</body>
</html>  -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Car Database</title>
<style>
  /* CSS cho việc hiển thị dữ liệu */
  .car {
    border: 1px solid #ccc;
    margin-bottom: 10px;
    padding: 10px;
  }
</style>
</head>
<body>

<div id="carList"></div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Sử dụng fetch để lấy dữ liệu từ tệp JSON
  fetch('db.json')
    .then(response => response.json())
    .then(data => {
      // Duyệt qua mảng car và thêm dữ liệu vào HTML
      const carList = document.getElementById('carList');
      data.car.forEach(car => {
        const carDiv = document.createElement('div');
        carDiv.classList.add('car');
        carDiv.innerHTML = `
        <div class="card">
                <img src="${car.ImageUrl}" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">${car.Title}</h5>
                    <p class="card-text"><i class="bi bi-calendar-event-fill"></i> ${car.Year}</p>
                    <p class="card-text"><i class="bi bi-speedometer"></i> ${car.Kilometer} km</p>
                    <p class="card-text"><i class="bi bi-fuel-pump"></i> ${car.Fuel}</p>
                    <p class="card-text"><i class="bi bi-bezier2"></i> ${car.Transmission}</p>
                </div>
                <div class="card-footer">
                    <p class="card-text" style="font-size:20px; color:red;">${car.Price}</p>
                    <p class="card-text" style="font-size:12px;"><i class="bi bi-geo-alt"></i> ${car.Address.Province} - ${car.Address.Districts}</p>
                </div>
            </div>
        `;
        carList.appendChild(carDiv);
      });
    })
    .catch(error => console.error('Error fetching data:', error));
});
</script>

</body>
</html> -->
